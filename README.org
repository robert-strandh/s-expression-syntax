#+TITLE:    s-expression-syntax README
#+AUTHOR:   Jan Moringen
#+EMAIL:    jmoringe@techfak.uni-bielefeld.de
#+LANGUAGE: en

#+OPTIONS: toc:t num:nil
#+SEQ_TODO: TODO STARTED | DONE

#+BEGIN_SRC lisp :exports both :results silent
  (ql:quickload :s-expression-syntax)
#+END_SRC

* STARTED Introduction

  The ~s-expression-syntax~ library provides declarative rules for
  parsing the various bits of Common Lisp's s-expression syntax:

  + Special operators

  + Lambda lists

  + Declarations

  + Type specifiers

  + Standard macros

    + ~cl:loop~

  + Feature expressions

* STARTED Tutorial

  #+BEGIN_SRC lisp :exports both :results output
    (let* ((syntax     (s-expression-syntax:find-syntax 'let))
           (form       '(let ((a 1) (b 2))
                          (declare (type integer a))
                          (declare (type integer b))
                          (format t "~S" a)
                          (list a b)))
           (components (s-expression-syntax:parse 'list syntax form)))
      (loop :for (component-name form) :on components :by #'cddr
            :for component = (s-expression-syntax:find-component component-name syntax)
            :do (format t "~16A -> ~16S~%~2@Tcardinality: ~S~%~2@Tevaluation:  ~S~2%"
                        component-name form
                        (s-expression-syntax:cardinality component)
                        (s-expression-syntax:evaluation component))))
  #+END_SRC

  #+RESULTS:
  #+begin_example
  FORMS            -> ((FORMAT T "~S" A) (LIST A B))
    cardinality: *
    evaluation:  T

  DECLARATIONS     -> ((TYPE INTEGER B) (TYPE INTEGER A))
    cardinality: *
    evaluation:  NIL

  VALUES           -> (2 1)
    cardinality: *
    evaluation:  T

  NAMES            -> (B A)
    cardinality: *
    evaluation:  (:BINDING :NAMESPACE VARIABLE :SCOPE :LEXICAL :ORDER :PARALLEL
                  :VALUES VALUES)

  #+end_example

* TODO Dictionary

# Local Variables:
# eval: (require 'ob-lisp)
# End:
